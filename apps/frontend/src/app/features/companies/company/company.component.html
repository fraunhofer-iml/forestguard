<h1 class="font-semibold text-gray-700 pb-4">Company</h1>

<div class="card mb-4 flex justify-end">
  <a href="/users/add" mat-button class="text-end">Create User/Farmer</a>
  <a href="/companies/add" mat-button class="ml-2">Add Company</a>
</div>

<div class="grid md:grid-cols-2 sm:grid-cols-1" *ngIf="company$ | async as company">
  <div class="card grid md:grid-cols-2 md:mr-4 sm:mr-0">
    <span class="border-b-2 py-2 font-medium">Name</span>
    <p class="border-b-2 py-2 text-neutral-500">{{ company.name }}</p>
    <span class="border-b-2 py-2 font-medium">Street</span>
    <p class="border-b-2 py-2 text-neutral-500">{{ company.address.street }}</p>
    <span class="py-2 font-medium md:border-none sm:border-b-2">Postal Code</span>
    <p class="py-2 text-neutral-500">{{ company.address.postalCode }}</p>
  </div>
  <div class="card grid md:grid-cols-2 md:mt-0 sm:mt-4">
    <span class="border-b-2 py-2 font-medium">City</span>
    <p class="border-b-2 py-2 text-neutral-500">{{ company.address.city }}</p>
    <span class="border-b-2 font-medium py-2">State</span>
    <p class="border-b-2 py-2 text-neutral-500">{{ company.address.state }}</p>
    <span class="font-medium py-2 md:border-none sm:border-b-2">Country</span>
    <p class="text-neutral-500 py-2">{{ company.address.country }}</p>
  </div>
</div>

<div class="card mt-4">
  <h1 class="text-lg font-semibold">Farmers</h1>
</div>

<div class="card mt-4 overflow-x-auto">
  <table mat-table *ngIf="farmers$ | async as farmers" [dataSource]="farmers" matSort>
    <!-- Farmer ID -->
    <ng-container matColumnDef="farmerId" class="headline-text">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="farmerId">Farmer ID</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.personalId }}</td>
    </ng-container>

    <!-- Name -->
    <ng-container matColumnDef="name" class="headline-text">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="name">Name</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.firstName }} {{ farmer.lastName }}</td>
    </ng-container>

    <!-- Email -->
    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="email">Email</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.email }}</td>
    </ng-container>

    <!-- Phone Number -->
    <ng-container matColumnDef="mobilePhoneNumber">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="phoneNumber">Phone Number</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.mobilePhoneNumber }}</td>
    </ng-container>

    <!-- Street -->
    <ng-container matColumnDef="street">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="street">Street</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.address.street }}</td>
    </ng-container>

    <!-- Postal Code -->
    <ng-container matColumnDef="postalCode">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="postalCode">Postal Code</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.address.postalCode }}</td>
    </ng-container>

    <!-- City -->
    <ng-container matColumnDef="city">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="city">City</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.address.city }}</td>
    </ng-container>

    <!-- State -->
    <ng-container matColumnDef="state">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="state">State</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.address.state }}</td>
    </ng-container>

    <!-- Country -->
    <ng-container matColumnDef="country">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="country">Country</th>
      <td mat-cell *matCellDef="let farmer">{{ farmer.address.country }}</td>
    </ng-container>

    <!-- Plots of Land -->
    <ng-container matColumnDef="plotOfLand">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="plotOfLand">Plot of Land</th>
      <td mat-cell *matCellDef="let farmer">
        <div *ngFor="let plotsOfLand of farmer.plotOfLands">
          {{ plotsOfLand.description }}
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumnsOfBatches"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumnsOfBatches"></tr>
  </table>
  <mat-paginator [pageSizeOptions]="[10]" [pageSize]="10"></mat-paginator>
</div>
